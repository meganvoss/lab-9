[
  {
    "objectID": "lab-9.html",
    "href": "lab-9.html",
    "title": "Lab 9: Impact of Fire Severity on Vegetation Recovery in Oregon: A Comparative Analysis Using Remote Sensing and Ecological Data",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(ggplot2)\nlibrary(readr)\n\nfire_data &lt;- read_csv(\"data/fire_data.csv\") %&gt;%\n  clean_names()\n\nRows: 63843 Columns: 24\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (6): Ecoregion_10, combined.ID, fire.id, Country, Perim.Source, ig.date\ndbl (17): fire.year, DOB, pixel.count, area.ha, n.Hotspots.In.Perim, area.m2...\nlgl  (1): extreme.day\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nfire_data &lt;- fire_data %&gt;%\n  mutate(severity_class = case_when(\n    radial_growth_m_d &lt; 250 ~ \"Low\",\n    radial_growth_m_d &lt; 700 ~ \"Moderate\",\n    TRUE ~ \"High\"\n  ))\n\n\nseverity_summary &lt;- fire_data %&gt;%\n  group_by(severity_class) %&gt;%\n  summarise(\n    rgd_mean = mean(radial_growth_m_d, na.rm = TRUE),\n    area_mean = mean(area_ha, na.rm = TRUE),\n    aet_mean = mean(aet_raw, na.rm = TRUE),\n    def_mean = mean(def_raw, na.rm = TRUE),\n    count = n()\n  )\n\nseverity_summary\n\n# A tibble: 3 × 6\n  severity_class rgd_mean area_mean aet_mean def_mean count\n  &lt;chr&gt;             &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;int&gt;\n1 High             1589.      3432.     49.0     72.0 16107\n2 Low                99.6      295.     53.0     71.0 30324\n3 Moderate          437.       973.     54.4     65.9 17412\n\n\n\nggplot(fire_data, aes(x = severity_class, y = aet_raw, fill = severity_class)) +\n  geom_boxplot() +\n  labs(title = \"AET by Fire Severity\", x = \"Severity\", y = \"AET\") +\n  theme_minimal()\n\n\n\n\n\n\n\nggplot(fire_data, aes(x = severity_class, y = def_raw, fill = severity_class)) +\n  geom_boxplot() +\n  labs(title = \"DEF by Fire Severity\", x = \"Severity\", y = \"Deficit\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\naet_aov &lt;- aov(aet_raw ~ severity_class, data = fire_data)\nsummary(aet_aov)\n\n                  Df   Sum Sq Mean Sq F value Pr(&gt;F)    \nseverity_class     2   262902  131451   218.3 &lt;2e-16 ***\nResiduals      63840 38435726     602                   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\ndef_aov &lt;- aov(def_raw ~ severity_class, data = fire_data)\nsummary(def_aov)\n\n                  Df    Sum Sq Mean Sq F value Pr(&gt;F)    \nseverity_class     2    389867  194933   68.91 &lt;2e-16 ***\nResiduals      63840 180581256    2829                   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n\n\n\n\n\n\nvegetation_data &lt;- read_csv(\"data/vegetation_data.csv\") %&gt;%\n  clean_names()\n\nRows: 1069 Columns: 19\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (9): EVT_NAME, EVT_FUEL_N, EVT_LF, EVT_PHYS, EVT_GP_N, SAF_SRM, EVT_ORD...\ndbl (10): VALUE, LFRDB, EVT_FUEL, EVT_GP, R, G, B, RED, GREEN, BLUE\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nvegetation_data %&gt;%\n  select(value, evt_name, evt_class, evt_order) %&gt;%\n  distinct() %&gt;%\n  slice_head(n = 10)  \n\n# A tibble: 10 × 4\n   value evt_name                                            evt_class evt_order\n   &lt;dbl&gt; &lt;chr&gt;                                               &lt;chr&gt;     &lt;chr&gt;    \n 1 -9999 Fill-NoData                                         Fill-NoD… Fill-NoD…\n 2  4401 Alaska Arctic Coastal Sedge-Dwarf-Shrubland         Dwarf Sh… Shrub-do…\n 3  4402 Alaska Arctic Floodplain Forest                     Shrubland Shrub-do…\n 4  4403 Alaska Arctic Large River Floodplain Forest         Shrubland Shrub-do…\n 5  4404 Alaska Arctic Mesic Alder Shrubland                 Shrubland Shrub-do…\n 6  4405 Alaska Arctic Permafrost Plateau Dwarf-Shrub Liche… Dwarf Sh… Shrub-do…\n 7  4406 Alaska Arctic Tidal Flat                            Sparsely… No domin…\n 8  4407 Alaska Sub-boreal and Maritime Alpine Mesic Herbac… Herbaceo… Herbaceo…\n 9  4408 Alaska Sub-boreal Mesic Subalpine Alder Shrubland   Shrubland Shrub-do…\n10  4409 Alaska Sub-boreal Mountain Hemlock-White Spruce Fo… Closed t… Tree-dom…\n\n\n\nset.seed(123)\nveg_classes &lt;- vegetation_data$evt_class %&gt;% na.omit() %&gt;% unique()\n\nfire_data &lt;- fire_data %&gt;%\n  mutate(evt_class = sample(veg_classes, nrow(.), replace = TRUE))\n\n\n\n\n\nfire_data %&gt;%\n  count(evt_class, severity_class) %&gt;%\n  group_by(evt_class) %&gt;%\n  mutate(prop = n / sum(n)) %&gt;%\n  ggplot(aes(x = evt_class, y = prop, fill = severity_class)) +\n  geom_col(position = \"fill\") +\n  coord_flip() +\n  labs(title = \"Fire Severity Proportion by Vegetation Type\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfire_data %&gt;%\n  group_by(evt_class) %&gt;%\n  summarise(\n    mean_aet = mean(aet_raw, na.rm = TRUE),\n    mean_def = mean(def_raw, na.rm = TRUE)\n  )\n\n# A tibble: 20 × 3\n   evt_class                 mean_aet mean_def\n   &lt;chr&gt;                        &lt;dbl&gt;    &lt;dbl&gt;\n 1 Closed Tree Canopy            51.8     71.6\n 2 Closed tree canopy            52.1     70.5\n 3 Dwarf Shrubland               51.8     70.4\n 4 Dwarf-shrubland               51.8     70.1\n 5 Fill-NoData                   52.5     70.5\n 6 Herbaceous - Grassland        52.4     68.6\n 7 Herbaceous - Shrub Steppe     53.5     68.0\n 8 Herbaceous - forbland         52.4     70.0\n 9 Herbaceous - grassland        51.9     72.4\n10 Herbaceous - shrub-steppe     51.8     71.0\n11 No Dominant Lifeform          53.0     68.9\n12 Non-vegetated                 52.6     69.0\n13 Nonvascular                   52.5     69.3\n14 Open Tree Canopy              52.6     69.5\n15 Open tree canopy              52.6     68.1\n16 Shrubland                     52.3     70.8\n17 Sparse Tree Canopy            52.5     69.4\n18 Sparse tree canopy            52.5     70.3\n19 Sparsely Vegetated            52.8     69.2\n20 Sparsely vegetated            52.1     69.6\n\n\n\n\n\n\n\n\n\n\n\n\nanova_severity &lt;- aov(radial_growth_m_d ~ evt_class, data = fire_data)\nsummary(anova_severity)\n\n               Df    Sum Sq Mean Sq F value Pr(&gt;F)\nevt_class      19 1.647e+07  866787   1.236  0.217\nResiduals   63823 4.477e+10  701539               \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(fire_data, aes(x = days_burned, y = radial_growth_m_d, color = severity_class)) +\n  geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\") +\n  labs(title = \"Radial Growth vs. Days Burned by Severity\",\n       x = \"Days Since Ignition\", y = \"Radial Growth (m/day)\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfire_data &lt;- fire_data %&gt;%\n  mutate(recovered = if_else(radial_growth_m_d &gt; 500, \"Recovered\", \"Not Recovered\"))\n\n\nfire_data %&gt;%\n  count(severity_class, recovered) %&gt;%\n  group_by(severity_class) %&gt;%\n  mutate(prop = n / sum(n)) %&gt;%\n  ggplot(aes(x = severity_class, y = prop, fill = recovered)) +\n  geom_col(position = \"fill\") +\n  labs(title = \"Recovery Proportion by Fire Severity\",\n       x = \"Fire Severity\", y = \"Proportion of Recovery\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfire_data &lt;- fire_data %&gt;%\n  mutate(recovered_bin = if_else(recovered == \"Recovered\", 1, 0))\n\nrecovery_model &lt;- glm(recovered_bin ~ severity_class + aet_raw + def_raw,\n                      data = fire_data, family = \"binomial\")\n\nsummary(recovery_model)\n\n\nCall:\nglm(formula = recovered_bin ~ severity_class + aet_raw + def_raw, \n    family = \"binomial\", data = fire_data)\n\nCoefficients:\n                         Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)             2.088e+01  1.396e+02   0.150  0.88112    \nseverity_classLow      -4.113e+01  1.728e+02  -0.238  0.81183    \nseverity_classModerate -2.130e+01  1.396e+02  -0.153  0.87872    \naet_raw                -2.920e-03  9.337e-04  -3.128  0.00176 ** \ndef_raw                -2.291e-03  4.319e-04  -5.304 1.13e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 81923  on 63842  degrees of freedom\nResidual deviance: 21924  on 63838  degrees of freedom\nAIC: 21934\n\nNumber of Fisher Scoring iterations: 19"
  },
  {
    "objectID": "lab-9.html#are-some-vegetation-types-more-prone-to-high-severity-fires",
    "href": "lab-9.html#are-some-vegetation-types-more-prone-to-high-severity-fires",
    "title": "Lab 9: Impact of Fire Severity on Vegetation Recovery in Oregon: A Comparative Analysis Using Remote Sensing and Ecological Data",
    "section": "",
    "text": "fire_data %&gt;%\n  count(evt_class, severity_class) %&gt;%\n  group_by(evt_class) %&gt;%\n  mutate(prop = n / sum(n)) %&gt;%\n  ggplot(aes(x = evt_class, y = prop, fill = severity_class)) +\n  geom_col(position = \"fill\") +\n  coord_flip() +\n  labs(title = \"Fire Severity Proportion by Vegetation Type\")"
  },
  {
    "objectID": "lab-9.html#how-do-evapotranspiration-or-water-deficit-vary-by-vegetation-type",
    "href": "lab-9.html#how-do-evapotranspiration-or-water-deficit-vary-by-vegetation-type",
    "title": "Lab 9: Impact of Fire Severity on Vegetation Recovery in Oregon: A Comparative Analysis Using Remote Sensing and Ecological Data",
    "section": "",
    "text": "fire_data %&gt;%\n  group_by(evt_class) %&gt;%\n  summarise(\n    mean_aet = mean(aet_raw, na.rm = TRUE),\n    mean_def = mean(def_raw, na.rm = TRUE)\n  )\n\n# A tibble: 20 × 3\n   evt_class                 mean_aet mean_def\n   &lt;chr&gt;                        &lt;dbl&gt;    &lt;dbl&gt;\n 1 Closed Tree Canopy            51.8     71.6\n 2 Closed tree canopy            52.1     70.5\n 3 Dwarf Shrubland               51.8     70.4\n 4 Dwarf-shrubland               51.8     70.1\n 5 Fill-NoData                   52.5     70.5\n 6 Herbaceous - Grassland        52.4     68.6\n 7 Herbaceous - Shrub Steppe     53.5     68.0\n 8 Herbaceous - forbland         52.4     70.0\n 9 Herbaceous - grassland        51.9     72.4\n10 Herbaceous - shrub-steppe     51.8     71.0\n11 No Dominant Lifeform          53.0     68.9\n12 Non-vegetated                 52.6     69.0\n13 Nonvascular                   52.5     69.3\n14 Open Tree Canopy              52.6     69.5\n15 Open tree canopy              52.6     68.1\n16 Shrubland                     52.3     70.8\n17 Sparse Tree Canopy            52.5     69.4\n18 Sparse tree canopy            52.5     70.3\n19 Sparsely Vegetated            52.8     69.2\n20 Sparsely vegetated            52.1     69.6"
  },
  {
    "objectID": "lab-9.html#test-if-high-severity-fires-are-more-common-in-certain-vegetation-classes",
    "href": "lab-9.html#test-if-high-severity-fires-are-more-common-in-certain-vegetation-classes",
    "title": "Lab 9: Impact of Fire Severity on Vegetation Recovery in Oregon: A Comparative Analysis Using Remote Sensing and Ecological Data",
    "section": "",
    "text": "anova_severity &lt;- aov(radial_growth_m_d ~ evt_class, data = fire_data)\nsummary(anova_severity)\n\n               Df    Sum Sq Mean Sq F value Pr(&gt;F)\nevt_class      19 1.647e+07  866787   1.236  0.217\nResiduals   63823 4.477e+10  701539"
  },
  {
    "objectID": "lab-9.html#plot-average-radial_growth_m_d-over-time-since-fire-by-severity",
    "href": "lab-9.html#plot-average-radial_growth_m_d-over-time-since-fire-by-severity",
    "title": "Lab 9: Impact of Fire Severity on Vegetation Recovery in Oregon: A Comparative Analysis Using Remote Sensing and Ecological Data",
    "section": "",
    "text": "ggplot(fire_data, aes(x = days_burned, y = radial_growth_m_d, color = severity_class)) +\n  geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\") +\n  labs(title = \"Radial Growth vs. Days Burned by Severity\",\n       x = \"Days Since Ignition\", y = \"Radial Growth (m/day)\")\n\n`geom_smooth()` using formula = 'y ~ x'"
  },
  {
    "objectID": "lab-9.html#recovered-vs-not-recovered-plot",
    "href": "lab-9.html#recovered-vs-not-recovered-plot",
    "title": "Lab 9: Impact of Fire Severity on Vegetation Recovery in Oregon: A Comparative Analysis Using Remote Sensing and Ecological Data",
    "section": "",
    "text": "fire_data &lt;- fire_data %&gt;%\n  mutate(recovered = if_else(radial_growth_m_d &gt; 500, \"Recovered\", \"Not Recovered\"))\n\n\nfire_data %&gt;%\n  count(severity_class, recovered) %&gt;%\n  group_by(severity_class) %&gt;%\n  mutate(prop = n / sum(n)) %&gt;%\n  ggplot(aes(x = severity_class, y = prop, fill = recovered)) +\n  geom_col(position = \"fill\") +\n  labs(title = \"Recovery Proportion by Fire Severity\",\n       x = \"Fire Severity\", y = \"Proportion of Recovery\") +\n  theme_minimal()"
  },
  {
    "objectID": "lab-9.html#logisic-regression-model-to-test-whether-severity-predicts-recovery",
    "href": "lab-9.html#logisic-regression-model-to-test-whether-severity-predicts-recovery",
    "title": "Lab 9: Impact of Fire Severity on Vegetation Recovery in Oregon: A Comparative Analysis Using Remote Sensing and Ecological Data",
    "section": "",
    "text": "fire_data &lt;- fire_data %&gt;%\n  mutate(recovered_bin = if_else(recovered == \"Recovered\", 1, 0))\n\nrecovery_model &lt;- glm(recovered_bin ~ severity_class + aet_raw + def_raw,\n                      data = fire_data, family = \"binomial\")\n\nsummary(recovery_model)\n\n\nCall:\nglm(formula = recovered_bin ~ severity_class + aet_raw + def_raw, \n    family = \"binomial\", data = fire_data)\n\nCoefficients:\n                         Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)             2.088e+01  1.396e+02   0.150  0.88112    \nseverity_classLow      -4.113e+01  1.728e+02  -0.238  0.81183    \nseverity_classModerate -2.130e+01  1.396e+02  -0.153  0.87872    \naet_raw                -2.920e-03  9.337e-04  -3.128  0.00176 ** \ndef_raw                -2.291e-03  4.319e-04  -5.304 1.13e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 81923  on 63842  degrees of freedom\nResidual deviance: 21924  on 63838  degrees of freedom\nAIC: 21934\n\nNumber of Fisher Scoring iterations: 19"
  }
]